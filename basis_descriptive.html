<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>R Basiskurs</title>
    <meta charset="utf-8" />
    <meta name="author" content="Stefan Coors &amp; Patrick Schratz" />
    <link href="site_libs/remark-css-0.0.1/metropolis.css" rel="stylesheet" />
    <link href="site_libs/remark-css-0.0.1/metropolis-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="../../_setup/css/xaringan-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_setup/css/tweaks.css" type="text/css" />
    <link rel="stylesheet" href="../../_setup/css/gentle-ggplot.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# R Basiskurs
## Introduction to R
<html>
<div style="float:left">

</div>
<hr color='#EB811B' size=1px width=796px>
</html>
### Stefan Coors &amp; Patrick Schratz
### 27. MÃ¤rz 2019

---


&lt;!-- This file was created autmatically! Please check the entrys! --&gt;



---

class: inverse, center, middle

# Introduction

---



# Logicals


Logicals represent the result of a comparison:


```r
name == "Julia" # is the name equal to "Julia"?
```

```
## [1] FALSE
```

```r
age &gt; 20 # is the age larger than 20?
```

```
## [1] TRUE
```

```r
height &lt;= 1.64 # is the height smaller or equal to 1.64?
```

```
## [1] TRUE
```

```r
age != 20 # is the age not equal to 20?
```

```
## [1] TRUE
```

Available comparisons are smaller `&lt;`, smaller or equal `&lt;=`, larger `&gt;`, larger 
or equal `&gt;=`, equal `==` and not equal `!=`.

---

# Chaining of Logicals

Multiple logical comparisons can be combined with *and* `&amp;`, *or* `|`.


```r
name == "Maria" &amp; age &lt; 20
```

```
## [1] FALSE
```

```r
name == "Maria" &amp; age &gt;= 20
```

```
## [1] TRUE
```

```r
name == "Julia" | age &gt; 20
```

```
## [1] TRUE
```

Parentheses can be used to define the order of the chaining.


```r
age == 20 &amp; (height &lt; 1.20 | name == "Julia")
```

```
## [1] FALSE
```

---

# Negation of Logicals

Negation can be achieved using `!`


```r
(name == "Maria" &amp; age &gt; 20)
```

```
## [1] TRUE
```

```r
!(name == "Maria" &amp; age &gt; 20)
```

```
## [1] FALSE
```

---



# Factors

Character vectors can be easily converted to factors via `as.factor()`:


```r
degree = c("college", "PhD", "high school", "college", "PhD")
print(degree)
```

```
## [1] "college"     "PhD"         "high school" "college"     "PhD"
```

```r
degree = as.factor(degree)
print(degree)
```

```
## [1] college     PhD         high school college     PhD        
## Levels: college high school PhD
```

- Nominal and ordinal vectors should be converted to factors.

- A factor is basically an integer vector, where each number has a corresponding "label". 

&lt;!-- - Often a vector is a character but only finitely many different values are  --&gt;
&lt;!-- allowed. --&gt;
&lt;!-- - Indexing factors is identical to vectors. --&gt;

---

# Factors

The levels of a factor can be changed or reordered after it is created:

```r
print(degree)
```

```
## [1] college     PhD         high school college     PhD        
## Levels: college high school PhD
```

```r
levels(degree)[3] = "doctoral"
print(degree)
```

```
## [1] college     doctoral    high school college     doctoral   
## Levels: college high school doctoral
```

```r
new.lvls = levels(degree)[c(2,1,3)]
print(new.lvls)
```

```
## [1] "high school" "college"     "doctoral"
```

```r
degree = factor(degree, levels = new.lvls)
print(degree)
```

```
## [1] college     doctoral    high school college     doctoral   
## Levels: high school college doctoral
```

&lt;!-- ## Factors  --&gt;

&lt;!-- - In this case, an ordered factor makes sense (variables can be ordered by education level).  --&gt;
&lt;!-- This can be achieved by setting the argument `ordered = TRUE` --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- degree = factor(degree, ordered = TRUE) --&gt;
&lt;!-- degree[degree &gt;= "college"] --&gt;
&lt;!-- ``` --&gt;

---

# Factors

The factor levels can be extracted as a factor variable or as a character vector:


```r
unique(degree)
```

```
## [1] college     doctoral    high school
## Levels: high school college doctoral
```

```r
levels(degree)
```

```
## [1] "high school" "college"     "doctoral"
```

- `unique()` keeps the factor structure.
- `levels()` returns the factor levels as a character vector.

---



# `NA`, `NaN` and `NULL`

In other situations we have to show the absence of information.
`NA`, `NaN` and `NULL` can all be seen as a representation of "nothing", but the 
reason for the missing information is different:

`NA`:
: Missing observation, improper conversion, ...

`NaN`:
: Numerical problem occured, `0 / 0`, `log(-1)`, etc. Often followed by a 
  warning message.

`NULL`:
: The `NULL` object. Object with no reference value, i.e., absence of an object.

---

# `is.na` and `is.null`

Often it is required to check if a variable is `NA` or `NULL`. But a logical 
comparison with `NA` or `NULL` results in:


```r
age = NA    # assign NA to age, i.e., unknown age
age == NA
```

```
## [1] NA
```

```r
dec32 = NULL  # assign NULL to dec32
dec32 == NULL
```

```
## logical(0)
```

Instead of a logical comparison use the functions `is.na` and `is.null`:


```r
is.na(age)
```

```
## [1] TRUE
```

```r
is.null(dec32)
```

```
## [1] TRUE
```

---



# Control Structures: `for`-loops

For loops iterate over values from a vector, e.g. `1:3`:


```r
for (i in 1:3) {
  print(i)
}
```

```
## [1] 1
## [1] 2
## [1] 3
```

They are most commonly used for iterating over the elements of an object (list, vector, etc.):


```r
x = 5
for (i in 1:length(x)) {
  x[i] = x[i]*2
}
print(x)
```

```
## [1] 10
```

---

# Apply Functions to Columns/Rows

`apply` calls a function on rows or columns of a `data.frame` and always returns a vector.


```r
d = data.frame(col1 = c(1,1,2), col2 = c(2,2,3))
d
```

```
##   col1 col2
## 1    1    2
## 2    1    2
## 3    2    3
```

```r
apply(d, MARGIN = 1, FUN = mean) # all row means
```

```
## [1] 1.5 1.5 2.5
```

```r
apply(d, MARGIN = 2, FUN = mean) # all col means
```

```
##     col1     col2 
## 1.333333 2.333333
```

---
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"before_init": "../../_setup/js/macros.js",
"highlightStyle": "googlecode",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
